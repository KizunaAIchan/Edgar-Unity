(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{166:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return p}));var a=r(1),n=r(6),i=(r(0),r(191)),o=r(194),l={title:"Tilemap layers"},c={id:"version-2.0.0-alpha.1/other/tilemap-layers",title:"Tilemap layers",description:'import { Image, Gallery, GalleryImage } from "@theme/Gallery";\r',source:"@site/versioned_docs\\version-2.0.0-alpha.1\\other\\tilemap-layers.md",permalink:"/ProceduralLevelGenerator-Unity/docs/other/tilemap-layers",editUrl:"https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/tree/docusaurus/versioned_docs/version-2.0.0-alpha.1/other/tilemap-layers.md",version:"2.0.0-alpha.1",sidebar:"version-2.0.0-alpha.1/docs",previous:{title:"(Pro) Performance benchmarks",permalink:"/ProceduralLevelGenerator-Unity/docs/guides/benchmarks"},next:{title:"Migration from v1 to v2",permalink:"/ProceduralLevelGenerator-Unity/docs/other/migration-v1-v2"}},s=[{value:"Overriding defaults",id:"overriding-defaults",children:[]}],u={rightToc:s};function p(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The default structure of tilemaps was already described on the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"roomTemplates.md"}),"Room templates")," page. The goal of this tutorial is to show you how we can override the default behaviour."),Object(i.b)("h2",{id:"overriding-defaults"},"Overriding defaults"),Object(i.b)("p",null,"To override the default behaviour, we have to create a class that inherits from the ",Object(i.b)("inlineCode",{parentName:"p"},"AbstractTilemapLayersHandler")," class. You can see the default implementation in the ",Object(i.b)("inlineCode",{parentName:"p"},"TilemapLayersHandler")," class."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-csharp"}),'public abstract class AbstractTilemapLayersHandler : ScriptableObject, ITilemapLayersHandler\n{\n    /// <summary>\n    /// Initializes the structure of tilemaps of a given gameObject.\n    /// </summary>\n    /// <remarks>\n    /// Adds child GameObjects with tilemap components attached. Multiple tilemaps are\n    /// used to layer individual tiles over one another. This is also the place to add\n    /// colliders and setup sorting order.\n    /// </remarks>\n    /// <param name="gameObject">Parent GameObject of created tilemaps.</param>\n    public abstract void InitializeTilemaps(GameObject gameObject);\n}\n')),Object(i.b)("p",null,"Then you have to assign this tilemap layers handler to the ",Object(i.b)("em",{parentName:"p"},"Tilemap Layers Handler")," field of the payload initializer that is used by the generator. That will ensure that all generated dungeons will have this structure of tilemaps. The last step is to ensure that all room templates have the same structure of tilemaps as generated dungeons. With the default structure, we use the ",Object(i.b)("em",{parentName:"p"},"Default Room Template Initializer")," script to initialize room templates. If we want to use a different structure, we have to use the ",Object(i.b)("em",{parentName:"p"},"Configurable Room Template Initializer")," and assign our new tilemap layers handler."),Object(i.b)(o.c,{src:"img/original/configurable_room_template_initializer.png",caption:"Configurable room template initializer script",mdxType:"Image"}),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},Object(i.b)("strong",{parentName:"p"},"Note:")," It is ",Object(i.b)("strong",{parentName:"p"},"VERY IMPORTANT")," to to choose the right structure of tilemap layers before creating a larger number of room templates because it is very difficult to convert room templates from one structure to another.")))}p.isMDXComponent=!0},191:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return f}));var a=r(0),n=r.n(a);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=n.a.createContext({}),u=function(e){var t=n.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l({},t,{},e)),r},p=function(e){var t=u(e.components);return n.a.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(r),d=a,f=p["".concat(o,".").concat(d)]||p[d]||m[d]||i;return r?n.a.createElement(f,l({ref:t},s,{components:r})):n.a.createElement(f,l({ref:t},s))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},192:function(e,t,r){"use strict";var a=r(0),n=r(32);t.a=function(){return Object(a.useContext)(n.a)}},193:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r(192);function n(e){const{siteConfig:t}=Object(a.a)(),{baseUrl:r="/"}=t||{};if(!e)return e;return/^(https?:|\/\/)/.test(e)?e:e.startsWith("/")?r+e.slice(1):r+e}},194:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return m}));var a=r(1),n=r(6),i=r(0),o=r.n(i),l=r(193),c=function(e){return o.a.createElement("div",{style:{display:"inline-block",margin:2,overflow:"hidden",position:"relative",width:"calc("+100/e.cols+"% - 4px)",verticalAlign:"top"}},e.children)},s=function(e){return o.a.createElement("div",{style:{fontSize:"0px",margin:"20px 0"}},o.a.Children.map(e.children,(function(t){return o.a.cloneElement(t,{cols:e.cols||4,fixedHeight:e.fixedHeight})})))},u=function(e){return o.a.createElement(c,{cols:e.cols},o.a.createElement("a",{href:Object(l.a)(e.src),target:"_blank"},o.a.createElement("img",{src:Object(l.a)(e.src),alt:"result",style:{height:!0===e.fixedHeight?800/e.cols+"px":"auto",objectFit:!0===e.fixedHeight?"cover":"initial"}})),void 0!==e.caption&&o.a.createElement(p,null,e.caption))},p=function(e){return o.a.createElement("div",{style:{fontSize:16,fontStyle:"italic",textAlign:"center",margin:"10px 0px 15px"}},e.children)},m=function(e){e.src,e.caption;var t=Object(n.a)(e,["src","caption"]);return o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",Object(a.a)({src:Object(l.a)(e.src)},t)),void 0!==e.caption&&o.a.createElement(p,null,e.caption))}}}]);