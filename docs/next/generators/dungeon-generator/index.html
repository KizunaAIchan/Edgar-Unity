<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<title data-react-helmet="true">Dungeon generator | Edgar - Procedural Level Generator</title><meta data-react-helmet="true" name="docsearch:version" content="next"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Dungeon generator | Edgar - Procedural Level Generator"><meta data-react-helmet="true" name="description" content="Minimal setup"><meta data-react-helmet="true" property="og:description" content="Minimal setup"><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/ProceduralLevelGenerator-Unity/docs/next/generators/dungeon-generator"><link data-react-helmet="true" rel="shortcut icon" href="/ProceduralLevelGenerator-Unity/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://ondrejnepozitek.github.io/ProceduralLevelGenerator-Unity/docs/next/generators/dungeon-generator"><link rel="stylesheet" href="/ProceduralLevelGenerator-Unity/styles.84d62f65.css">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/styles.4b0c518c.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/runtime~main.c55c0b79.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/main.c7472e75.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/2.f868b2c5.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/3.09386445.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/1be78505.321cd1c8.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/155.8090dc9b.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/156.efdb696a.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/7c75f4e1.a8d554b5.js" as="script">
<link rel="preload" href="/ProceduralLevelGenerator-Unity/9efb8ec4.698de697.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/ProceduralLevelGenerator-Unity/"><strong class="navbar__title">Edgar - Procedural Level Generator</strong></a><a class="navbar__item navbar__link" href="/ProceduralLevelGenerator-Unity/versions">v2.0.0-alpha.4</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ProceduralLevelGenerator-Unity/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ProceduralLevelGenerator-Unity/docs/introduction">2.0.0-alpha.4</a></li><li><a class="dropdown__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.3/introduction">2.0.0-alpha.3</a></li><li><a class="dropdown__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.1/introduction">2.0.0-alpha.1</a></li><li><a class="dropdown__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.0/introduction">2.0.0-alpha.0</a></li><li><a class="dropdown__link" href="/ProceduralLevelGenerator-Unity/docs/1.0.3/introduction">1.0.3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ProceduralLevelGenerator-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></div><a href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/ProceduralLevelGenerator-Unity/"><strong class="navbar__title">Edgar - Procedural Level Generator</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/versions">v2.0.0-alpha.4</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/ProceduralLevelGenerator-Unity/docs">Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/introduction">2.0.0-alpha.4</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.3/introduction">2.0.0-alpha.3</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.1/introduction">2.0.0-alpha.1</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/2.0.0-alpha.0/introduction">2.0.0-alpha.0</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/1.0.3/introduction">1.0.3</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/ProceduralLevelGenerator-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/introduction">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/room-templates">Room templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/level-graphs">Level graphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/generator-setup">Generator setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/generated-level-info">Level structure and rooms data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/basics/performance-tips">Performance tips</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Generators</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/generators/dungeon-generator">Dungeon generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/generators/platformer-generator">(PRO) Platformer generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/generators/custom-input">(PRO) Custom input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/generators/post-process">Post-processing</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/example-1">Example 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/example-2">Example 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/platformer-1">(PRO) Platformer 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/isometric-1">(PRO) Isometric 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/enter-the-gungeon">(PRO) Enter the Gungeon case study</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/examples/dead-cells">(PRO) Dead Cells case study</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/guides/room-template-customization">Room template customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/guides/current-room-detection">Current room detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/guides/procedural-level-graphs">(PRO) Procedural level graphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/guides/fog-of-war">(PRO) Fog of war</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/guides/benchmarks">(PRO) Performance benchmarks</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ProceduralLevelGenerator-Unity/docs/next/other/migration-v1-v2">Migration from v1 to v2</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: next</span></div><header><h1 class="docTitle_1vWb">Dungeon generator</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="minimal-setup"></a>Minimal setup<a aria-hidden="true" tabindex="-1" class="hash-link" href="#minimal-setup" title="Direct link to heading">#</a></h2><ul><li>Add the <strong>Dungeon Generator Component</strong> to any Game Object in the Scene.</li><li>Assign your level graph to the <strong>Level Graph</strong> field.</li><li>Hit the <strong>Generate dungeon</strong> button or enable <strong>Generate on start</strong> and enter play mode</li></ul><div style="text-align:center"><img src="/ProceduralLevelGenerator-Unity/img/v2/generators/dungeon_generator_inspector.png" width="500px"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Dungeon generator runner</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="input-config"></a>Input config<a aria-hidden="true" tabindex="-1" class="hash-link" href="#input-config" title="Direct link to heading">#</a></h4><ul><li><strong>Level Graph</strong> - Level graph that should be used. Must not be null.</li><li><strong>Use corridors</strong> - Whether corridors should be used between neighboring rooms. If enabled, corridor room templates must be provided in the level graph.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="generator-config"></a>Generator config<a aria-hidden="true" tabindex="-1" class="hash-link" href="#generator-config" title="Direct link to heading">#</a></h4><ul><li><strong>Root Game Object</strong> - Game Object to which the generated level will be attached. New Game Object will be created if null.</li><li><strong>Timeout</strong> - How long (in milliseconds) should we wait for the algorithm to generate a level. We may sometimes create an input that is too hard for the algoritm so it is good to stop after some amount of time with an error.</li><li><strong>Repeat Mode Override</strong> - Whether to override the repeat mode of individual room templates.<ul><li><strong>No override</strong> - Nothing is overriden, keep repeat modes from room templates.</li><li><strong>Allow repeat</strong> - All room templates may repeat in generated levels.</li><li><strong>No immeadiate</strong> - Neighboring room must have different room templates.</li><li><strong>No repeat</strong> - All rooms must have different room templates.</li></ul></li></ul><blockquote><p><strong>Note:</strong> If you provide too few room templates, they may repeat in generated levels even if you choose the <strong>No immeadiate</strong> or <strong>No repeat</strong> options. To make sure that the repeat mode is satisifed, please provide enough room templates to choose from.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="post-processing-config"></a>Post processing config<a aria-hidden="true" tabindex="-1" class="hash-link" href="#post-processing-config" title="Direct link to heading">#</a></h4><p>Please refer see the <a href="/ProceduralLevelGenerator-Unity/docs/next/generators/post-process">Post processing</a> page to find detailed information this configuration.</p><ul><li><strong>Initialize Shared Tilemaps</strong> - Whether to initialize tilemaps that will hold the generated level.</li><li><strong>Tilemap Layers Handler</strong> - Which tilemap layers handler should be used to initialize shared tilemaps. Uses the <code>DungeonTilemapLayersHandler</code> if not set.</li><li><strong>Copy Tiles To Shared Tilemaps</strong> - Whether to copy tiles from individual room template to the shared tilemaps.</li><li><strong>Center Grid</strong> - Whether to move the level so that its center is approximately at (0,0). Useful for debugging in Scene view in editor.</li><li><strong>Disable Room Template Renderers</strong> - Whether to disable tilemap renderers of individual rooms, useful only when <em>Copy Tiles To Shared Tilemaps</em> is enabled.</li><li><strong>Disable Room Template Colliders</strong> - Whether to disable tilemap colliders of individual rooms, useful only when <em>Copy Tiles To Shared Tilemaps</em> is enabled.</li></ul><blockquote><p><strong>TODO:</strong> Link to page with tilemap layers.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="other-config"></a>Other config<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-config" title="Direct link to heading">#</a></h4><ul><li><strong>Use Random Seed</strong> - Whether to use a random seed for each new generated level. </li><li><strong>Random Generator Seed</strong> - Random generator seed that will be used when <strong>Use Random Seed</strong> is disabled. Useful for debugging.</li><li><strong>Generate On Start</strong> - Whether to generate a new level when play mode is entered.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="call-the-generator-from-script"></a>Call the generator from script<a aria-hidden="true" tabindex="-1" class="hash-link" href="#call-the-generator-from-script" title="Direct link to heading">#</a></h2><p>It is very simple to call the generator from a script:</p><ol><li>Get the <code>DungeonGenerator</code> component from the game object that holds the generator</li><li>Call the <code>Generate()</code> method</li></ol><p>Example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-csharp codeBlock_1wn8" style="color:#cccccc;background-color:#242424"><div class="token-line" style="color:#cccccc"><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> generator </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Find</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Dungeon Generator&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token generic-method function" style="color:#ffc66d">GetComponent</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&lt;</span><span class="token generic-method class-name" style="color:#dd4a68">DungeonGenerator</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&gt;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">generator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Generate</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><blockquote><p><strong>Note:</strong> The <code>Generate()</code> method blocks the main Unity thread so the game may freeze while the dungeon is generated. The PRO version comes with an implementation that uses coroutines to make sure that the games does not freeze.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pro-with-coroutines"></a>(PRO) With coroutines<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pro-with-coroutines" title="Direct link to heading">#</a></h3><p>If we do not want to block the main Unity thread when the level is generating, we can use a coroutine. There are two ways of doing that.</p><p>The simple approach uses only built-in Unity coroutines and works like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-csharp codeBlock_1wn8" style="color:#cccccc;background-color:#242424"><div class="token-line" style="color:#cccccc"><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> generator </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Find</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Dungeon Generator&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token generic-method function" style="color:#ffc66d">GetComponent</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&lt;</span><span class="token generic-method class-name" style="color:#dd4a68">DungeonGenerator</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&gt;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token function" style="color:#ffc66d">StartCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">GenerateCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>There is one problem with the simple approach - coroutines cannot really handle exceptions. So if there is some problem with the generator or with custom post processing logic, the coroutine just dies and we are not able to do any cleanup. Therefore, I implemented a smarter coroutine that lets us handle any errors. Example usage:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-csharp codeBlock_1wn8" style="color:#cccccc;background-color:#242424"><div class="token-line" style="color:#cccccc"><span class="token keyword" style="color:rgb(204, 130, 66)">using</span><span class="token plain"> System</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Collections</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token keyword" style="color:rgb(204, 130, 66)">using</span><span class="token plain"> ProceduralLevelGenerator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Unity</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Generators</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">DungeonGenerator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token keyword" style="color:rgb(204, 130, 66)">using</span><span class="token plain"> ProceduralLevelGenerator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Unity</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Pro</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token keyword" style="color:rgb(204, 130, 66)">using</span><span class="token plain"> UnityEngine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token keyword" style="color:rgb(204, 130, 66)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">class</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">CoroutineWithDataExampleAdvanced</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">:</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">MonoBehaviour</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">Start</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> generator </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Find</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Dungeon Generator&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token generic-method function" style="color:#ffc66d">GetComponent</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&lt;</span><span class="token generic-method class-name" style="color:#dd4a68">DungeonGenerator</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&gt;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token function" style="color:#ffc66d">StartCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token function" style="color:#ffc66d">GeneratorCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">private</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">IEnumerator</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">GeneratorCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token class-name" style="color:#dd4a68">DungeonGenerator</span><span class="token plain"> generator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Start the smart coroutine</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// StartCoroutineWithData is a custom extension method of MonoBehaviour, be sure to use the ProceduralLevelGenerator.Unity.Pro namespace</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> generatorCoroutine </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">this</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">StartCoroutineWithData</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generator</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">GenerateCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Wait until the smart coroutine is completed</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Make sure to yield return the Coroutine property and not the generator coroutine itself!!</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">yield</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">return</span><span class="token plain"> generatorCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Coroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Check if the coroutine was successful</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generatorCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">IsSuccessful</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            Debug</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Log</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Level generated!&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// If there were any errors, we can access the Exception object</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Or we can also rethrow the exception by calling generatorCoroutine.ThrowIfNotSuccessful();</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">else</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            Debug</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">LogError</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;There was an error when generating the level!&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            Debug</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">LogError</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generatorCoroutine</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Exception</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Message</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/tree/docusaurus/docs/generators/dungeon-generator.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/performance-tips"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Performance tips</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/platformer-generator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">(PRO) Platformer generator »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#minimal-setup" class="table-of-contents__link">Minimal setup</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#call-the-generator-from-script" class="table-of-contents__link">Call the generator from script</a><ul><li><a href="#pro-with-coroutines" class="table-of-contents__link">(PRO) With coroutines</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/ProceduralLevelGenerator-Unity/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OndrejNepozitek" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://ondra.nepozitek.cz/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Ondřej Nepožitek</div></div></div></footer></div>
<script src="/ProceduralLevelGenerator-Unity/styles.4b0c518c.js"></script>
<script src="/ProceduralLevelGenerator-Unity/runtime~main.c55c0b79.js"></script>
<script src="/ProceduralLevelGenerator-Unity/main.c7472e75.js"></script>
<script src="/ProceduralLevelGenerator-Unity/2.f868b2c5.js"></script>
<script src="/ProceduralLevelGenerator-Unity/3.09386445.js"></script>
<script src="/ProceduralLevelGenerator-Unity/1be78505.321cd1c8.js"></script>
<script src="/ProceduralLevelGenerator-Unity/155.8090dc9b.js"></script>
<script src="/ProceduralLevelGenerator-Unity/156.efdb696a.js"></script>
<script src="/ProceduralLevelGenerator-Unity/7c75f4e1.a8d554b5.js"></script>
<script src="/ProceduralLevelGenerator-Unity/9efb8ec4.698de697.js"></script>
</body>
</html>